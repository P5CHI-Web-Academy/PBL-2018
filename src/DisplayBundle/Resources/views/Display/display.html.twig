<div id="slide_content">
    Slide Content ...
</div>


<script>
    function setSlideContent(slide){
        document.getElementById('slide_content').innerHTML = slide['content'];

        return new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve('Success');
            }, slide['periodOfValidity']);
        });
    }

    async function loop(){
        while(true) {
            let response = await fetch('{{ path('fetch', {'location' : location}) }}');
            let slides = await response.json();

            for(let key in slides){
                if(slides.hasOwnProperty(key)){
                    console.log(key + " -> " + slides[key]);
                    await setSlideContent(slides[key]);
                }
            }

        }
    }
    
    loop();
</script>